(this.webpackJsonpmovielist_project=this.webpackJsonpmovielist_project||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){},23:function(e,t,a){e.exports=a(38)},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var i=a(0),c=a.n(i),l=a(21),n=a.n(l),o=a(10),r=a(5),s=a(6),v=a(8),m=a(7),u=(a(28),a(11)),d=a(1),k=(a(29),function(e){Object(v.a)(a,e);var t=Object(m.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("h6",null," Welcome!this is da awesome home page "))}}]),a}(i.Component));a(15),a(16);function p(e){var t=e.movie,a=e.clickLikeBtn,i=e.clickBlockBtn;return c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-image waves-effect waves-block waves-light"},c.a.createElement("img",{className:"activator",src:"https://image.tmdb.org/t/p/w500"+t.picture})),c.a.createElement("div",{className:"card-content"},c.a.createElement("span",{className:"card-title activator grey-text text-darken-4"},t.title," ",c.a.createElement("i",{id:"more_vert",className:"material-icons right"},"more_vert")),c.a.createElement("p",null,!0===t.isLike?c.a.createElement("a",{className:"waves-effect waves-light btn-small",onClick:function(e){return a(t.id)}},c.a.createElement("i",{className:"material-icons left"},"favorite"),"liked"):c.a.createElement("a",{className:"waves-effect waves-light btn-small",onClick:function(){return a(t.id)}},c.a.createElement("i",{className:"material-icons left"},"favorite_border"),"like"),c.a.createElement("a",{className:"waves-effect waves-light btn-small",onClick:function(){return i(t.id)}},c.a.createElement("i",{className:"material-icons left"},"block"),"block"))),c.a.createElement("div",{className:"card-reveal"},c.a.createElement("span",{className:"card-title grey-text text-darken-4"},t.title,c.a.createElement("i",{className:"material-icons right"},"close")),c.a.createElement("p",null,t.description)))}var f=function(e){Object(v.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(r.a)(this,a);for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={title:!1,release_date:!1,vote_count:!1,vote_Average:!1},e.handleClickTitle=function(){var t=e.state.title,a=!0===t?"asc":"desc";e.setState({title:!t}),e.props.sortByType("original_title",a)},e.handleClickDate=function(){var t=e.state.release_date,a=!0===t?"asc":"desc";e.setState({release_date:!t}),e.props.sortByType("primary_release_date",a)},e.handleClickVoteCount=function(){var t=e.state.vote_count,a=!0===t?"asc":"desc";e.setState({vote_count:!t}),e.props.sortByType("vote_count",a)},e.handleClickVoteAve=function(){var t=e.state.vote_Average,a=!0===t?"asc":"desc";e.setState({vote_Average:!t}),e.props.sortByType("vote_Average",a)},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this;console.log(this.props);var t=this.props,a=t.page,l=t.pageMovie,n=t.allMovie,o=t.likedMovies,r=t.blockedMovies,s=(t.sortByType,this.state),v=s.title,m=s.release_date,u=s.vote_count,d=s.vote_Average;return console.log("Page",a,l),console.log("allMovie:  ",n),console.log("Liked:  ",o),console.log("blocked:  ",r),c.a.createElement(i.Fragment,{className:"container"},c.a.createElement("div",{className:"searchContainer"},v?c.a.createElement("a",{className:"waves-effect waves-light btn",onClick:function(){return e.handleClickTitle()}},"Title ",c.a.createElement("i",{className:"material-icons right"}," arrow_downward ")," "):c.a.createElement("a",{className:"waves-effect waves-light btn",onClick:function(){return e.handleClickTitle()}},"Title ",c.a.createElement("i",{className:"material-icons right"}," arrow_upward ")," "),m?c.a.createElement("a",{className:"waves-effect waves-light btn",onClick:function(){return e.handleClickDate()}},"Release Date ",c.a.createElement("i",{className:"material-icons right"}," arrow_downward ")," "):c.a.createElement("a",{className:"waves-effect waves-light btn",onClick:function(){return e.handleClickDate()}},"Release Date ",c.a.createElement("i",{className:"material-icons right"}," arrow_upward ")," "),u?c.a.createElement("a",{className:"waves-effect waves-light btn",onClick:function(){return e.handleClickVoteCount()}},"vote_count ",c.a.createElement("i",{className:"material-icons right"}," arrow_downward ")," "):c.a.createElement("a",{className:"waves-effect waves-light btn",onClick:function(){return e.handleClickVoteCount()}},"vote_count ",c.a.createElement("i",{className:"material-icons right"}," arrow_upward ")," "),d?c.a.createElement("a",{className:"waves-effect waves-light btn",onClick:function(){return e.handleClickVoteAve()}},"vote_average ",c.a.createElement("i",{className:"material-icons right"}," arrow_downward ")," "):c.a.createElement("a",{className:"waves-effect waves-light btn",onClick:function(){return e.handleClickVoteAve()}},"vote_average ",c.a.createElement("i",{className:"material-icons right"}," arrow_upward ")," "))," ",c.a.createElement("hr",null),c.a.createElement("div",{id:"pageBar"},c.a.createElement("a",{class:"btn-floating btn-large waves-effect waves-light ",onClick:this.props.goPre},"<"),c.a.createElement("h6",null,"Page "+a+"/500"),c.a.createElement("a",{class:"btn-floating btn-large waves-effect waves-light ",onClick:this.props.goNext},">"))," ",c.a.createElement("hr",null),c.a.createElement("div",{className:"movieList"},l.map((function(t){return c.a.createElement(p,{key:t.id,movie:t,clickBlockBtn:e.props.clickBlockBtn,clickLikeBtn:e.props.clickLikeBtn})}))))}}]),a}(i.Component),g=(a(30),function(e){Object(v.a)(a,e);var t=Object(m.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e="hidden";return this.props.visible&&(e="visible"),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{id:"flyoutMenu",className:e},c.a.createElement("div",{onClick:this.props.handleHomeClick},c.a.createElement("i",{className:"small material-icons cyan-text"},"clear")),c.a.createElement("div",{className:"menuItem"},c.a.createElement(u.b,{to:"/"},"Home Page")),c.a.createElement("div",{className:"menuItem"},c.a.createElement(u.b,{to:"/movieslist"},"Movies")),c.a.createElement("div",{className:"menuItem"},c.a.createElement(u.b,{to:"/likedlist"},"Liked Movies")),c.a.createElement("div",{className:"menuItem"},c.a.createElement(u.b,{to:"/blockedlist"},"Blocked Movies"))))}}]),a}(i.Component));a(36);function h(e){var t=e.movie,a=e.clickLikeBtn,l=e.clickBlockBtn;return c.a.createElement(i.Fragment,null,c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-image waves-effect waves-block waves-light"},c.a.createElement("img",{className:"activator",src:"https://image.tmdb.org/t/p/w500"+t.picture})),c.a.createElement("div",{className:"card-content liked-card"},c.a.createElement("div",{onClick:function(){return a(t.id)}},c.a.createElement("i",{className:"material-icons"},"delete_sweep")),c.a.createElement("div",{onClick:function(){return l(t.id)}},c.a.createElement("i",{className:"med material-icons"},"block")),c.a.createElement("i",{className:"material-icons"}," more_vert "))))}var b=function(e){Object(v.a)(a,e);var t=Object(m.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.likedMovies,a=e.clickBlockBtn,i=e.clickLikeBtn;return c.a.createElement("div",{className:"likeMovie"},t.map((function(e){return c.a.createElement(h,{key:e.id,movie:e,clickBlockBtn:a,clickLikeBtn:i})})))}}]),a}(i.Component);a(37);function E(e){var t=e.movie,a=e.clickFav,l=e.clickBlockDelete;return c.a.createElement(i.Fragment,null,c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-image waves-effect waves-block waves-light"},c.a.createElement("img",{className:"activator",src:"https://image.tmdb.org/t/p/w500"+t.picture})," ")," ",c.a.createElement("div",{className:"card-content block-card"},c.a.createElement("div",{onClick:function(){return l(t.id)}},c.a.createElement("i",{className:"material-icons"}," delete_sweep ")," ")," ",c.a.createElement("div",{onClick:function(){return a(t.id)}},c.a.createElement("i",{className:"material-icons"}," favorite_border ")," ")," ",c.a.createElement("i",{className:"material-icons"}," more_vert ")," ")," ")," ")}var M=function(e){Object(v.a)(a,e);var t=Object(m.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.blockedMovies,a=e.clickBlockDelete,i=e.clickFav;return c.a.createElement("div",{className:"blockedMovie"},t.map((function(e){return c.a.createElement(E,{key:e.id,movie:e,clickBlockDelete:a,clickFav:i})})))}}]),a}(i.Component),w=function(e){Object(v.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(r.a)(this,a);for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={visible:!1,likedMovies:[],blockedMovies:[],allMovie:[],page:1,pageList:[],pageMovie:[],sortBy:"primary_release_date",order:"desc"},e.clickLikeBtn=function(t){var a=e.state.allMovie;a.map((function(e){e.id===t&&(e.isLike=!e.isLike,e.isBlock=!1)})),e.setState({allMovie:a,likedMovies:a.filter((function(e){return!0===e.isLike})),blockedMovies:a.filter((function(e){return!0===e.isBlock}))})},e.clickBlockBtn=function(t){var a=e.state,i=a.allMovie,c=a.pageMovie;i.filter((function(e){if(e.id===t)return e.isBlock=!e.isBlock,e.isLike=!1,e})),console.log("111111"),e.setState({allMovie:i,pageMovie:c.filter((function(e){return!1===e.isBlock})),likedMovies:i.filter((function(e){return!0===e.isLike})),blockedMovies:i.filter((function(e){return!0===e.isBlock}))})},e.clickFav=function(t){var a=e.state,i=a.allMovie,c=a.pageMovie,l=a.likedMovies,n=i.filter((function(e){if(e.id===t)return e.isLike=!e.isLike,e.isBlock=!1,e}));e.setState({allMovie:i,pageMovie:[].concat(Object(o.a)(c),Object(o.a)(n)),likedMovies:[].concat(Object(o.a)(l),Object(o.a)(n)),blockedMovies:i.filter((function(e){return!0===e.isBlock}))})},e.clickBlockDelete=function(t){var a=e.state,i=a.allMovie,c=a.pageMovie,l=i.filter((function(e){if(e.id===t)return e.isBlock=!e.isBlock,e.isLike=!1,e}));e.setState({allMovie:i,pageMovie:[].concat(Object(o.a)(c),Object(o.a)(l)),blockedMovies:i.filter((function(e){return!0===e.isBlock}))})},e.componentDidMount=function(){e.loadPageContent()},e.loadPageContent=function(){var t=e.state,a=t.page,i=t.pageList,c=t.allMovie,l=t.sortBy,n=t.order;i.includes(a)?(console.log("\u8fd9\u91cc\u662fif\uff0c allmovie shi",c),e.setState({pageMovie:c.slice(10*(a-1),20*a-1)})):fetch("https://api.themoviedb.org/3/discover/movie?api_key=87dabc6e2725920a54ec3b03e8f64cc8&language=en-US&sort_by=".concat(l,".").concat(n,"&include_adult=false&include_video=false&page=").concat(a," ")).then((function(e){return e.json()})).then((function(t){var l=e.createItems(t.results);e.setState({pageList:[].concat(Object(o.a)(i),[a]),pageMovie:Object(o.a)(l),allMovie:[].concat(Object(o.a)(c),Object(o.a)(l))})}))},e.createItems=function(e){return e.map((function(e){return{id:e.id,title:e.original_title,picture:e.poster_path,isLike:!1,isBlock:!1,releaseDate:e.release_date,voteCount:e.vote_count,voteAve:e.vote_average,description:e.overview}}))},e.goPre=function(){var t=e.state.page;e.setState({page:1===t?500:t-1},(function(){e.loadPageContent()}))},e.goNext=function(){var t=e.state.page;e.setState({page:500===t?1:t+1},(function(){e.loadPageContent()}))},e.sortByType=function(t,a){switch(console.log("111111",t,a),t){case"original_title":e.setState({likedMovies:[],blockedMovies:[],allMovie:[],page:1,pageList:[],pageMovie:[],sortBy:"original_title",order:a},(function(){e.loadPageContent()}));break;case"primary_release_date":e.setState({likedMovies:[],blockedMovies:[],allMovie:[],page:1,pageList:[],pageMovie:[],sortBy:"primary_release_date",order:a},(function(){e.loadPageContent()}));break;case"vote_count":e.setState({likedMovies:[],blockedMovies:[],allMovie:[],page:1,pageList:[],pageMovie:[],sortBy:"vote_count",order:a},(function(){e.loadPageContent()}));break;case"vote_average":e.setState({likedMovies:[],blockedMovies:[],allMovie:[],page:1,pageList:[],pageMovie:[],sortBy:"vote_average",order:a},(function(){e.loadPageContent()}));break;default:e.setState({likedMovies:[],blockedMovies:[],allMovie:[],page:1,pageList:[],pageMovie:[],sortBy:"popularity",order:a},(function(){e.loadPageContent()}))}},e}return Object(s.a)(a,[{key:"handleHomeClick",value:function(e){e.preventDefault(),this.setState({visible:!this.state.visible})}},{key:"render",value:function(){var e=this,t=this.state,a=t.page,i=t.pageMovie,l=t.allMovie,n=t.likedMovies,o=t.blockedMovies,r=t.sortBy,s=t.order;return console.log("page movie",i),c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,null,c.a.createElement("div",{className:"goTop"},c.a.createElement("a",{href:"#top"},c.a.createElement("i",{class:"medium material-icons white-text waves-effect waves-light"},"arrow_upward"))),c.a.createElement(g,{visible:this.state.visible,handleHomeClick:function(t){return e.handleHomeClick(t)}}),c.a.createElement("div",{className:"container",id:"top"},c.a.createElement("div",{className:"card-panel light-blue lighten-3 center"},c.a.createElement("h3",{id:"title",onClick:function(t){return e.handleHomeClick(t)}},"Movies List Menu"),c.a.createElement("br",null),c.a.createElement(d.c,null,c.a.createElement(d.a,{exact:!0,path:"/"},c.a.createElement(k,null)),c.a.createElement(d.a,{exact:!0,path:"/movieslist"},c.a.createElement(f,{sortBy:r,order:s,page:a,pageMovie:i,allMovie:l,likedMovies:n,blockedMovies:o,clickBlockBtn:this.clickBlockBtn,clickLikeBtn:this.clickLikeBtn,sortByType:function(t,a){return e.sortByType(t,a)},goPre:this.goPre,goNext:this.goNext})),c.a.createElement(d.a,{exact:!0,path:"/likedlist"},c.a.createElement(b,{likedMovies:n,clickBlockBtn:this.clickBlockBtn,clickLikeBtn:this.clickLikeBtn})),c.a.createElement(d.a,{exact:!0,path:"/blockedlist"},c.a.createElement(M,{blockedMovies:o,clickBlockDelete:this.clickBlockDelete,clickFav:this.clickFav})))))))}}]),a}(i.Component);n.a.render(c.a.createElement(w,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.1c395688.chunk.js.map